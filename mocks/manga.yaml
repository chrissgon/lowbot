name: flow

steps:
  init:
    next:
      default: intro

  end:
    action: Text
    parameters:
      texts:
        - ğŸ˜‰ Pesquisa finalizada

  error:
    action: Text
    parameters:
      texts:
        - ğŸ˜• Desculpe, nÃ£o pude encontrar nada...

  intro:
    action: Text
    next:
      default: commands
    parameters:
      texts:
        - ğŸ‘‹ğŸ» OlÃ¡ visitante
        - ""
        - ğŸ¤– Encontre animes e mangas com o Animei Bot

  commands:
    action: Button
    next:
      Mangas: mangaInput
      Animes: animeAlert
      default: nocommand
    parameters:
      texts:
        - "Selecione o que deseja procurar ğŸ‘‡ğŸ»"
      buttons:
        - Mangas
        - Animes

  nocommand:
    action: Text
    next:
      default: commands
    parameters:
      texts:
        - ğŸ˜µ Desculpe, valor invÃ¡lido

  animeAlert:
    action: Text
    next:
      default: commands
    parameters:
      texts:
        - ğŸ˜¢ Infelizmente a pesquisa por animes ainda nÃ£o estÃ¡ disponÃ­vel. Por favor, selecione outra opÃ§Ã£o

  mangaInput:
    action: Input
    next:
      .+ [0-9]{1,}: manga
      default: mangaInputError
    parameters:
      texts:
        - ğŸ¤© Certo, vamos procurar pelo seu manga!
        - ""
        - ğŸ¤” Qual o nome e capÃ­tulo?

  mangaInputError:
    action: Input
    next:
      .+ [0-9]{1,}: manga
      default: mangaInputError
    parameters:
      texts:
        - ğŸ˜• Desculpe, nÃ£o entendi o que quis dizer.
        - ""
        - "Escreva novamente, mas nesse modelo:"
        - ""
        - "ğŸ‘‰ğŸ» Exemplo: Naruto 1"

  manga:
    action: Input
    next:
      \/stop: stop
      default: end
    parameters:
      texts:
        - ğŸ” Iniciando a procura...
        - ""
        - âŒ Caso deseje cancelar a pesquisa, digite /stop

  stop:
    action: Text
    next:
      default: end
    parameters:
      texts:
        - "Parando a pesquisa"
